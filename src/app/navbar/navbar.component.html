<nav class="floating-nav" [class.scrolled]="isScrolled" [class.not-home]="!isHomePage" #navElement>
    <!-- Logo -->
    <a routerLink="/" class="nav-logo">BOHEMIA</a>

    <!-- Center: Nav Links OR Purchase Steps -->
    @if (navbarState.purchaseStep() > 0) {
    <!-- Purchase Stepper -->
    <div class="purchase-stepper">
        @if (navbarState.purchaseStep() === 1) {
        <span class="step-active">1. Entradas</span>
        <span class="material-symbols-outlined step-chevron">chevron_right</span>
        <span class="step-inactive">2. Datos</span>
        <span class="material-symbols-outlined step-chevron">chevron_right</span>
        <span class="step-inactive">3. Pago</span>
        }
        @else if (navbarState.purchaseStep() === 2) {
        <span class="step-done">
            <span class="material-symbols-outlined step-check">check_circle</span>
            1. Entradas
        </span>
        <span class="material-symbols-outlined step-chevron">chevron_right</span>
        <span class="step-active">2. Datos</span>
        <span class="material-symbols-outlined step-chevron">chevron_right</span>
        <span class="step-inactive">3. Pago</span>
        }
        @else if (navbarState.purchaseStep() === 3) {
        <span class="step-done">
            <span class="material-symbols-outlined step-check">check_circle</span>
            1. Entradas
        </span>
        <span class="material-symbols-outlined step-chevron">chevron_right</span>
        <span class="step-done">
            <span class="material-symbols-outlined step-check">check_circle</span>
            2. Datos
        </span>
        <span class="material-symbols-outlined step-chevron">chevron_right</span>
        <span class="step-active">3. Pago</span>
        }
    </div>
    } @else {
    <!-- Normal Nav Links -->
    <ul class="nav-menu">
        <li>
            <a routerLink="/" fragment="eventos" class="nav-link">EVENTOS</a>
        </li>
        <li>
            <a routerLink="/galeria" routerLinkActive="active" class="nav-link">GALER√çA</a>
        </li>
    </ul>
    }

    <!-- Right Section -->
    <div class="nav-right">
        @if (navbarState.purchaseStep() === 0) {
        @if (authService.isAdmin()) {
        <a routerLink="/admin" class="cta-btn cta-admin" data-cy="admin-panel-link">
            <span class="material-symbols-outlined" style="font-size: 16px;">admin_panel_settings</span>
            <span>Admin</span>
        </a>
        } @else {
        <a routerLink="/compra" class="cta-btn">
            <span class="hidden sm:inline">COMPRAR ENTRADAS</span>
            <span class="sm:hidden">COMPRAR</span>
        </a>
        }
        }

        <user-dropdown [isNavScrolled]="isScrolled"></user-dropdown>
    </div>
</nav>